spring.application.name=somnia-crud-app
server.port=8080

# PostgreSQL Configuration
# spring.datasource.url=jdbc:postgresql://localhost:5432/somnia_db
# spring.datasource.username=dev
# spring.datasource.password=dev_password
# spring.jpa.hibernate.ddl-auto=update
# spring.jpa.show-sql=true

# Fallback to H2 for verification if Docker is down
spring.datasource.url=jdbc:h2:mem:somnia_db;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE
spring.datasource.driver-class-name=org.h2.Driver
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true

spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.springframework.jdbc.core.JdbcTemplate=DEBUG
logging.level.somnia=DEBUG

# Exclusions to avoid inconsistencies (Mongo, Kafka, Security)
spring.autoconfigure.exclude=\
  org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\
  org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration,\
  org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration

# Somnia Configuration
somnia.kafka.enabled=false
# Explicitly set the script path if the engine expects it (v0.2 uses todo.somnia by default)
# Note: SomniaEngineAutoConfiguration reads "todo.somnia" from CWD.
# We will make sure the symlink or file is there.
